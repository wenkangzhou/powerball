<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <title>彩票模板</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="keywords" content="">
        <meta name="description" content="">
        <meta name="robots" content="all">
        <meta name="baiduspider" content="all">
        <meta name="googlebot" content="all">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
        <meta name="renderer" content="webkit">
        <meta name="format-detection" content="telephone=no">
        <style type="text/css"> 
            body{
                font-size: 16px;
            }       
            .wrapper {
                display: flex;
                flex-wrap: wrap;
            }
            .item {
                width: 300px;
                height: 400px;
                padding: 16px;
                margin: 8px;
                background-color: #e007071c;
                margin-bottom: 88px; /* 为了打印不跳页 */
                border: 1px solid;
            } 
            .item h3{
                text-align: center;
            }
            .item .date{
                display: flex;
                justify-content: space-between;
            }
            .item .oauth{
                display: flex;
                justify-content: space-between;
            }
            .item hr{
                height:1px;
                border:none;
                border-top:1px dashed #000;
            }
            .item .content{
                height: 160px;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .item .content>span{
                font-size: 48px;
                margin: 48px
            }
            .item .pre{
                font-size: 14px;
                display: flex;
                justify-content: space-between;
            }                  
        </style>
    </head>
    <body>
        <div class="wrapper">
            <!-- <div class="item">
                <h3>YUX排列2</h3>
                <p class="date">
                    <span>第 180924 期</span>
                    <span>2018年09月24日开奖</span>
                </p>
                <p class="oauth">
                    <span>xxxxxxxxxxxxx</span>
                    <span>某某某</span>
                </p>
                <hr>
                <p class="content">
                    <span>0</span>
                    <span>0</span>
                </p>
                <hr>
                <p class="pre">
                    <span>上期中奖号码：01</span>
                    <span>上期剩余奖池：238元</span>
                </p>
            </div> -->
        </div>
        <script src="https://qidian.gtimg.com/lib/jquery.1.9.1.min.js"></script>
        <script type="text/javascript">
            $(function(){  
                var data = [{
                    email: "zhanghengrong",
                    name: "rains",
                    code: "09",
                    isJoin: true
                },{
                    email: "zhengchengzhong",
                    name: "成忠",
                    code: "27",
                    isJoin: true
                },{
                    email: "yanmeng",
                    name: "闫蒙",
                    code: "24",
                    isJoin: true
                },{
                    email: "yangjian",
                    name: "杨建",
                    code: "12",
                    isJoin: true
                },{
                    email: "chengmingyu",
                    name: "马头",
                    code: "25",
                    isJoin: true
                },{
                    email: "yangminghui",
                    name: "明荟",
                    code: "06",
                    isJoin: true
                },{
                    email: "zhangzhuo",
                    name: "张卓",
                    code: "83",
                    isJoin: true
                },{
                    email: "yangye",
                    name: "小爷",
                    code: "21",
                    isJoin: true
                },{
                    email: "wangyanlei",
                    name: "揣歪",
                    code: "47",
                    isJoin: true
                },{
                    email: "renjiale",
                    name: "家乐",
                    code: "29",
                    isJoin: true
                },{
                    email: "yangfan",
                    name: "波波",
                    code: "39",
                    isJoin: true
                },{
                    email: "hewei.a",
                    name: "何玮",
                    code: "82",
                    isJoin: true
                },{
                    email: "wuhongjie",
                    name: "洪杰",
                    code: "66",
                    isJoin: true
                },{
                    email: "zhangxinxu",
                    name: "张老师",
                    code: "44",
                    isJoin: true
                },{
                    email: "zoudonghui",
                    name: "东辉",
                    code: "66",
                    isJoin: true
                },{
                    email: "liupeng",
                    name: "飞飞",
                    code: "14",
                    isJoin: true
                },{
                    email: "nikun",
                    name: "泥坤",
                    code: "56",
                    isJoin: true
                },{
                    email: "liuwentao",
                    name: "文涛",
                    code: "16",
                    isJoin: true
                },{
                    email: "yangxinxin",
                    name: "芯芯",
                    code: "42",
                    isJoin: true
                },{
                    email: "zhangyunling",
                    name: "运领",
                    code: "13",
                    isJoin: true
                },{
                    email: "zhouwenkang",
                    name: "文康",
                    code: "23",
                    isJoin: true
                }];
                var season = {
                    "20181019": "001",
                    "20181102": "002",
                    "20181116": "003",
                }
                var lastCode = "00",
                    lastMoney = "0元";
                //var fragment = document.createDocumentFragment();
                var fragment = [];
                var date = new Date(),
                    year = "2018",//date.getFullYear(),
                    month = "10",//(date.getMonth() >= 0 && date.getMonth() < 9) ? "0" + (date.getMonth() + 1) : (date.getMonth() + 1),
                    day = "19";//(date.getDate() > 0 && date.getDate() < 10) ? "0" + date.getDate() : date.getDate();
                var season = season[year + month + day],
                    luckyDay =  year + "年" + month + "月" + day + "日";

                function getQueryStringArgs() {
                    var qs = (location.search.length > 0 ? location.search.substring(1) : ""),
                        args = {},
                        items =qs.length ? qs.split("&") : [],
                        item = null,
                        name = null,
                        value = null,
                        i = 0,
                        len = items.length;

                    for (i = 0; i < len; i++){
                        item = items[i].split("=");
                        name = decodeURIComponent(item[0]);
                        value = decodeURIComponent(item[1]);
                        if(name.length){
                            args[name] = value;
                        }
                    }
                    return args;
                }

                function getQueryString(name) {
                    var queryAry = getQueryStringArgs();
                    if (queryAry[name]) {
                        return queryAry[name];
                    }
                    return null;
                }

                if( getQueryString('name') ) {
                    var scData = data.find(function(item){
                        return item.email === getQueryString('name')
                    })
                    if(scData){
                        if (scData.isJoin) {
                            var uuid = 'xxxx-xxxx-4xxx-yxxx-xxxx'.replace(/[xy]/g, function(c) {
                            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
                                return v.toString(16);
                            })
                            var itemDom = "<div class='item'>"
                                + "<h3>YUX排列2</h3>"
                                + "<p class='date'>"
                                + "<span>第 "+ season +" 期</span>"
                                + "<span>"+ luckyDay +"开奖</span>"    
                                + "</p>"        
                                + "<p class='oauth'>"        
                                + "<span>"+ uuid +"</span>"     
                                + "<span>"+ scData.name +"</span>"    
                                + "</p>"
                                + "<hr>"
                                + "<p class='content'>"
                                + "<span>"+ scData.code[0] +"</span>"
                                + "<span>"+ scData.code[1] +"</span>"
                                + "</p>"
                                + "<hr>"
                                + "<p class='pre'>"
                                + "<span>上期中奖号码："+ lastCode +"</span>"
                                + "<span>上期剩余奖池："+ lastMoney +"</span>"
                                + "</p>"
                                + "</div>";
                            fragment.push(itemDom);
                            $(".wrapper").css({"justify-content": "center", "align-items": "center", "height": "100%"});
                            $(".wrapper").html(fragment.join(''));
                            $(".item").css({"margin-bottom": "0px"});
                        } else {
                            $(".wrapper").html("<span>你未参加本次活动</span>");
                        }
                    } else {
                        $(".wrapper").html("<span>请检查你的名字输入是否正确，应该是你的邮箱@前的部分</span>");
                    }
                    return ;
                }

                for(var i = 0; i < data.length; i++){
                    var uuid = 'xxxx-xxxx-4xxx-yxxx-xxxx'.replace(/[xy]/g, function(c) {
                        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
                        return v.toString(16);
                    })
                    var itemDom = "<div class='item'>"
                        + "<h3>YUX排列2</h3>"
                        + "<p class='date'>"
                        + "<span>第 "+ season +" 期</span>"
                        + "<span>"+ luckyDay +"开奖</span>"    
                        + "</p>"        
                        + "<p class='oauth'>"        
                        + "<span>"+ uuid +"</span>"     
                        + "<span>"+ data[i].name +"</span>"    
                        + "</p>"
                        + "<hr>"
                        + "<p class='content'>"
                        + "<span>"+ data[i].code[0] +"</span>"
                        + "<span>"+ data[i].code[1] +"</span>"
                        + "</p>"
                        + "<hr>"
                        + "<p class='pre'>"
                        + "<span>上期中奖号码："+ lastCode +"</span>"
                        + "<span>上期剩余奖池："+ lastMoney +"</span>"
                        + "</p>"
                        + "</div>";
                    if(data[i].isJoin){
                        //fragment.appendChild(itemDom);
                        fragment.push(itemDom);
                    }
                }
                //document.querySelector(".wrapper").appendChild(fragment);
                $(".wrapper").html(fragment.join(''));
            }); 
        </script>
    </body>
</html>
